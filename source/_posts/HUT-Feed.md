---
title: 使用 RSS 订阅学校校内新闻和通知公告
date: 2020-04-14 12:13:07
tags: HUT
---
![rss-40674_1280.png](https://i.loli.net/2020/04/14/Hkvmo8VnIyGM5zP.png)
<!--more-->



由于疫情影响学校要求每天到完美校园支付宝小程序上打卡。打卡完成后弹出了个校园新闻栏，点进去看了下正是学校官网校内行为栏的内容。二话不说马上打开了抓包软件，还是同样的味道，只在登录时进行了代理检测，登录后就可以随便弄了。看了下发送的数据包，数据是直接获取的，并没有任何鉴权措施。正好我很久以前就想弄 RSS 订阅学校官网的动态的，就利用完美校园的接口写算了。

## Demo

<http://106.15.194.74:99/feed>

默认为湖南工业大学通知公告。
可选参数：
type: 2 为校内新闻，其余任意数字为通知公告
cuxtomerId: 学校 ID ，默认为湖南工业大学。

## API接口

校内新闻和通知公告为同一接口不同请求参数
[请求地址](#请求地址) | [响应格式](#响应格式) | [HTTP 请求方式](#http-请求方式) | [是否需要授权](#是否需要授权) | [请求参数](#请求参数) | [响应结果](#响应结果) | [响应参数说明](#响应参数说明)

### 请求地址

<https://www.17wanxiao.com/campus/campus/schoolinfo/load.action>

### 响应格式

JSON

### HTTP 请求方式

POST

### 是否需要授权

否

### 请求参数

|   参数名   | 必须  |       类型及范围        | 说明                                               |
| :--------: | :---: | :---------------------: | :------------------------------------------------- |
| customerId |  是   | string 或 int,[784,869] | 学校 ID                                            |
|    type    |  是   |   string 或 int,[0,2]   | 请求数据类型，[0,1] 学校简介,2 校内新闻,3 通知公告 |
|  pageSize  |  是   |           int           | 一页包含的数据条数                                 |
|  currPage  |  是   |           int           | 当前页                                             |

### 响应结果

|   参数名   | 类型及范围 |                                                                                                                     说明                                                                                                                      |
| :--------: | :--------: | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| totalCount |    int     |                                                                                                                   总计页数                                                                                                                    |
| beginIndex |    int     |                                                                                                                 开始索引地址                                                                                                                  |
|  pageSize  |    int     |                                                                                                                包含的数据条数                                                                                                                 |
|  results   |    list    | 具体内容：{'contentImages': '[]', 'createTime': '创建时间', 'creator': '创建者', 'customerId': 学校 ID, 'enabled': True, 'firstImgUrl': '', 'id': (int)文章 id, 'noticeFlag': True, 'summary': '简介', 'title': '标题', 'type': 请求数据类型} |

在写的时候发现还有很多个学校也用的这个，大概有四五百个，顺手增加了自定义学校 ID 进行订阅。

## 效果图

![Screenshot_2020-04-14-14-42-40-029_com.innologica.inoreader.jpg](https://i.loli.net/2020/04/14/5zCHN2JuLlvIDQ8.jpg)
![Screenshot_2020-04-14-14-44-48-658_com.innologica.inoreader.jpg](https://i.loli.net/2020/04/14/yFQP9JSxL4vlrit.jpg)
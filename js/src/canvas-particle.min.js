var CanvasParticle=function(){function t(t){return document.getElementsByTagName(t)}function n(n){n=n||{};var i=(t("html")[0],t("body")[0]),s=document.createElement("canvas"),c={element:s,points:[],config:{vx:n.vx||4,vy:n.vy||4,height:n.height||2,width:n.width||2,count:n.count||100,color:n.color||"121, 162, 185",stroke:n.stroke||"130,255,255",dist:n.dist||6e3,e_dist:n.e_dist||2e4,max_conn:10}};return c.element.getContext("2d")?(c.context=c.element.getContext("2d"),i.style.padding="0",i.style.margin="0",i.appendChild(c.element),c.element.style="position: fixed; top: 0; left: 0; z-index: -1;",o(c.element),window.onresize=function(){o(c.element)},i.onmousemove=function(t){var n=t||window.event;c.mouse={x:n.clientX,y:n.clientY}},document.onmouseleave=function(){c.mouse=void 0},void setInterval(function(){e(c)},40)):null}function o(t){t.width=window.innerWeight||document.documentElement.clientWidth||document.body.clientWidth,t.height=window.innerWeight||document.documentElement.clientHeight||document.body.clientHeight}function e(t){var n,o=t.context;o.clearRect(0,0,t.element.width,t.element.height),o.beginPath(),o.fillStyle="rgb("+t.config.color+")";for(var e=0,c=t.config.count;c>e;e++)n=t.points.length!=t.config.count?{x:Math.floor(Math.random()*t.element.width),y:Math.floor(Math.random()*t.element.height),vx:t.config.vx/2-Math.random()*t.config.vx,vy:t.config.vy/2-Math.random()*t.config.vy}:i(t.points[e],t),o.fillRect(n.x-t.config.width/2,n.y-t.config.height/2,t.config.width,t.config.height),t.points[e]=n;s(o,t,t.mouse),o.closePath()}function i(t,n){var o=t;return t.x<=0||t.x>=n.element.width?(o.vx=-o.vx,o.x+=o.vx):t.y<=0||t.y>=n.element.height?(o.vy=-o.vy,o.y+=o.vy):o={x:o.x+o.vx,y:o.y+o.vy,vx:o.vx,vy:o.vy},o}function s(t,n,o){t=t||n.context;for(var e=0,i=n.config.count;i>e;e++){n.points[e].max_conn=0;for(var s=0;i>s;s++)e!=s&&(dist=Math.round(n.points[e].x-n.points[s].x)*Math.round(n.points[e].x-n.points[s].x)+Math.round(n.points[e].y-n.points[s].y)*Math.round(n.points[e].y-n.points[s].y),dist<=n.config.dist&&n.points[e].max_conn<n.config.max_conn&&(n.points[e].max_conn++,t.lineWidth=.5-dist/n.config.dist,t.strokeStyle="rgba("+n.config.stroke+","+(1-dist/n.config.dist)+")",t.beginPath(),t.moveTo(n.points[e].x,n.points[e].y),t.lineTo(n.points[s].x,n.points[s].y),t.stroke()));o&&(dist=Math.round(n.points[e].x-o.x)*Math.round(n.points[e].x-o.x)+Math.round(n.points[e].y-o.y)*Math.round(n.points[e].y-o.y),dist>n.config.dist&&dist<=n.config.e_dist&&(n.points[e].x=n.points[e].x+(o.x-n.points[e].x)/20,n.points[e].y=n.points[e].y+(o.y-n.points[e].y)/20),dist<=n.config.e_dist&&(t.lineWidth=1,t.strokeStyle="rgba("+n.config.stroke+","+(1-dist/n.config.e_dist)+")",t.beginPath(),t.moveTo(n.points[e].x,n.points[e].y),t.lineTo(o.x,o.y),t.stroke()))}}return n}();
